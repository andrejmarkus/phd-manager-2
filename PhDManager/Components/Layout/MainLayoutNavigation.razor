@using PhDManager.Components.Layout

@rendermode InteractiveServer

<MudHidden HiddenChanged="ScreenResized" />

<MudAppBar Fixed Elevation="1">
    <MudIconButton Color="Color.Inherit" Size="@Size.Medium" Edge="Edge.Start" Icon="@Icons.Material.Filled.Menu" OnClick="ToggleOpen" />
    <MudLink Href="/">
        <MudImage Class="logo" Src="@Assets["uniza_logo.png"]" Height="40" />
    </MudLink>
    <MudSpacer />
    <MudStack>
        <CultureSelect />
    </MudStack>
</MudAppBar>

<MudDrawer Class="mud-drawer-fixed" @bind-Open="@_open" Variant="@_variant" OpenMiniOnHover="true" Fixed="false" Breakpoint="Breakpoint.Xs" Elevation="2">
    <NavMenu />
</MudDrawer>

@code {
    private bool _open = false;
    private DrawerVariant _variant = DrawerVariant.Mini;

    private void ScreenResized(bool hidden) {
        _variant = hidden ? DrawerVariant.Temporary : DrawerVariant.Mini;
    }

    public void ToggleOpen()
    {
        _open = !_open;
    }
}
